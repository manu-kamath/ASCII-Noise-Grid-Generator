
<div class="h-screen bg-gray-900 text-gray-100 flex flex-col p-4 overflow-hidden">
  <header class="w-full max-w-7xl mx-auto text-center mb-4 flex-shrink-0">
    <h1 class="text-3xl sm:text-4xl lg:text-5xl font-extrabold tracking-tight text-transparent bg-clip-text bg-gradient-to-r from-indigo-400 via-purple-400 to-pink-400">
      ASCII Noise Grid Generator
    </h1>
    <p class="mt-2 text-base text-gray-400">
      Create stunning, dynamic backgrounds with customizable shapes and effects.
    </p>
  </header>

  <main class="w-full max-w-7xl mx-auto flex-grow flex flex-col md:flex-row gap-4 min-h-0">
    
    <!-- Left Pane: Renderer -->
    <div class="w-full md:w-3/4 flex-shrink-0">
      <div class="w-full h-full bg-black rounded-xl border border-gray-700 shadow-2xl shadow-indigo-500/10 overflow-hidden">
        <app-noise-grid [config]="config()"></app-noise-grid>
      </div>
    </div>

    <!-- Right Pane: Settings Drawer -->
    <div class="w-full md:w-1/4 flex flex-col gap-6 bg-gray-800/50 backdrop-blur-sm border border-gray-700 rounded-xl p-4 shadow-lg overflow-y-auto">
        <app-settings-panel
          [initialConfig]="config()"
          [shapes]="initialShapes"
          [characterSets]="characterSets"
          [palettes]="palettes"
          [showSvgDebug]="showSvgDebug()"
          [lastUploadedSvg]="lastUploadedSvg()"
          [svgError]="svgError()"
          (configChange)="updateConfig($event)"
          (fileUpload)="handleFileUpload($event)"
          (debugToggle)="toggleSvgDebug()">
        </app-settings-panel>
        
        <hr class="border-gray-700">

        <div class="w-full text-center">
          <h2 class="text-xl font-bold text-gray-300 mb-3">Export Options</h2>
          <div class="grid grid-cols-2 gap-3">
            <button 
              (click)="exportForWeb()"
              class="bg-gray-700 hover:bg-gray-600 text-white font-semibold py-2 px-3 rounded-lg text-sm transition-all duration-200 transform hover:scale-105 focus:outline-none focus:ring-2 focus:ring-pink-500">
              Download HTML
            </button>
            <button 
              (click)="exportSvg()"
              class="bg-gray-700 hover:bg-gray-600 text-white font-semibold py-2 px-3 rounded-lg text-sm transition-all duration-200 transform hover:scale-105 focus:outline-none focus:ring-2 focus:ring-pink-500">
              Download SVG
            </button>
            <button 
              (click)="showExportInstructions('android')"
              class="bg-gray-700 hover:bg-gray-600 text-white font-semibold py-2 px-3 rounded-lg text-sm transition-all duration-200 transform hover:scale-105 focus:outline-none focus:ring-2 focus:ring-pink-500">
              Android Guide
            </button>
            <button 
              (click)="showExportInstructions('ios')"
              class="bg-gray-700 hover:bg-gray-600 text-white font-semibold py-2 px-3 rounded-lg text-sm transition-all duration-200 transform hover:scale-105 focus:outline-none focus:ring-2 focus:ring-pink-500">
              iOS Guide
            </button>
            <button 
              (click)="downloadPng()"
              class="bg-indigo-600 hover:bg-indigo-700 text-white font-bold py-2 px-3 rounded-lg text-sm transition-all duration-300 transform hover:scale-105 focus:outline-none focus:ring-4 focus:ring-indigo-500 shadow-lg col-span-2">
              Download PNG (1920x1080)
            </button>
          </div>
        </div>
    </div>
  </main>
</div>
